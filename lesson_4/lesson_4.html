<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>lesson 4</title>
</head>

<body>

<img src="1.jpg" name='slide' width="300" height="300">
<form name='form1'>
<input type="button" name="butt1" value="Начать слайд шоу"
onclick='if(flag)i=-1;start();'> 
<input type="button" name="butt2" value="Остановить слайд шоу" disabled
onclick='stop();'>
</form>

<script>
var imgs=new Array;
imgs[0]='1.jpg';
imgs[1]='2.jpg';
imgs[2]='3.jpg';
imgs[3]='4.jpg';
var i=0; 
var timer;
var flag=0;//0 - первый вызов ф-ции start(), 1 - не первый вызов
var flag_stop=0;

	function start(){
	flag=1;
	counter_stop=0;
	document.form1.butt1.disabled=true;	
	document.form1.butt2.disabled=false;
	document.form1.butt2.value='Остановить слайд шоу';
	
	i++;
	if (i==imgs.length) {i=0;}
	document.slide.src=imgs[i]
	
	timer=setTimeout('start();',1000);
	}
	
	function stop(){
	counter_stop++;
	if(counter_stop%2){
	//stop
	document.form1.butt1.disabled=false;	
	document.form1.butt2.value='Продолжить слайд шоу';
	clearTimeout(timer);}
	else{
	//continue
	//flag_stop=0;
	document.form1.butt1.disabled=true;
	start();
	//document.form1.butt2.value='Остановить слайд шоу';
	}
}
	
    </script>
</body>

</html>
